comment: Has to be called with email fields not empty to send an email reset link to the user, or with a newPassword an passwordResetKey not empty to excplicitly reset a password
↓Input_variables [steps.InputVariablesStep-1588088480433]: 
↓jIfThenElse [steps.IfThenElseStep-1588088480436]: 
  condition: passwordResetKey != undefined
  ↓jThen [steps.ThenStep-1588088480439]: 
    ↓Call_Transaction1 [steps.TransactionStep-1588088480442]: 
      sourceTransaction: lib_UserManager.lib_usermanager_fullsync.GetView
      ↓_use_ddoc [variables.StepVariable-1588088480445]: 
        description: Design document name
        value: Design_document
      ↓_use_view [variables.StepVariable-1588088480448]: 
        description: View function name
        value: PasswordLostAccountsByPasswordResetKey
      ↓_use_key [variables.StepVariable-1588088480451]: 
        description: (string) – Return only documents that match the specified key. Optional
        sourceDefinition: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: 1588088480433
              - java.lang.String: 
                - ↑value: ./passwordResetKey/text()
    ↓IfExistThenElse [steps.IfExistThenElseStep-1588088480454]: 
      sourceDefinition: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - java.lang.String: 
              - ↑value: 1588088480442
            - java.lang.String: 
              - ↑value: ./document/couchdb_output/rows/item
      ↓jThen [steps.ThenStep-1588088480457]: 
        ↓Call_Sequence [steps.SequenceStep-1588088480460]: 
          sourceSequence: lib_UserManager.HashAndSalt
          ↓password [variables.StepVariable-1588088480463]: 
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1588088480433
                  - java.lang.String: 
                    - ↑value: ./newPassword/text()
        ↓jSimpleSource [steps.SimpleSourceStep-1588088480466]: 
          sourceDefinition: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1588088480460
                - java.lang.String: 
                  - ↑value: ./document/salt/text()
          variableName: jSalt
        ↓jSimpleSource1 [steps.SimpleSourceStep-1588088480469]: 
          sourceDefinition: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1588088480460
                - java.lang.String: 
                  - ↑value: ./document/hash/text()
          variableName: jHash
        ↓jElement [steps.ElementStep-1588088480472]: 
          expression: '''{account: {salt="'' + jSalt + ''", hashPassword:"'' + jHash + ''", status:"confirmed", passwordResetKey:null}}'''
          nodeName: jSonData
          output: false
        ↓Call_Transaction [steps.TransactionStep-1588088480475]: 
          sourceTransaction: lib_UserManager.lib_usermanager_fullsync.PostMergeDocument
          ↓_use_json_base [variables.StepVariable-1588088480478]: 
            description: (string) – JSON use as a base for the document (js object). Optional
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1588088480472
                  - java.lang.String: 
                    - ↑value: ./text()
          ↓_id [variables.StepVariable-1588088480481]: 
            description: Document id
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1588088480442
                  - java.lang.String: 
                    - ↑value: ./document/couchdb_output/rows/item/id/text()
      ↓jElse [steps.ElseStep-1588088480484]: 
        ↓Error_structure [steps.XMLErrorStep-1588088480487]: 
          message: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: This password resetkey is invalid
  ↓jElse [steps.ElseStep-1588088480490]: 
    ↓Call_Transaction [steps.TransactionStep-1588088480493]: 
      sourceTransaction: lib_UserManager.lib_usermanager_fullsync.GetAccountDocument
      ↓_use_docid [variables.StepVariable-1588088480496]: 
        description: Document ID
        sourceDefinition: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: 1588088480433
              - java.lang.String: 
                - ↑value: ./email/text()
    ↓IfExistThenElse [steps.IfExistThenElseStep-1588088480499]: 
      sourceDefinition: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - java.lang.String: 
              - ↑value: 1588088480493
            - java.lang.String: 
              - ↑value: ./document/couchdb_output/error
      ↓jThen [steps.ThenStep-1588088480502]: 
        ↓Error_structure [steps.XMLErrorStep-1588088480505]: 
          code: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: 2
          details: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: SOURCE
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1588088480493
                  - java.lang.String: 
                    - ↑value: ./document/couchdb_output/error/text()
          message: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.steps.SmartType
              - SmartType: 
                - ↑mode: PLAIN
                - →→: Invalid username
      ↓jElse [steps.ElseStep-1588088480508]: 
        ↓jElement [steps.ElementStep-1588088480511]: 
          expression: '''{account: {status: "passwordlost"}}'''
          nodeName: jSonBase
          output: false
        ↓Call_Transaction [steps.TransactionStep-1588088480514]: 
          sourceTransaction: lib_UserManager.lib_usermanager_fullsync.PostMergeDocument
          ↓_use_json_base [variables.StepVariable-1588088480517]: 
            description: (string) – JSON use as a base for the document (js object). Optional
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1588088480511
                  - java.lang.String: 
                    - ↑value: ./text()
          ↓_id [variables.StepVariable-1588088480520]: 
            description: Document id
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1588088480433
                  - java.lang.String: 
                    - ↑value: ./email/text()
        ↓Call_Sequence [steps.SequenceStep-1588088480523]: 
          comment: Just to get a random in 'salt' return
          sourceSequence: lib_UserManager.HashAndSalt
          ↓password [variables.StepVariable-1588088480526]: 
            value: TEST
        ↓jSimpleSource [steps.SimpleSourceStep-1588088480529]: 
          sourceDefinition: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: 1588088480523
                - java.lang.String: 
                  - ↑value: ./document/salt/text()
          variableName: jPasswordResetKey
        ↓jElement1 [steps.ElementStep-1588088480532]: 
          expression: encodeURIComponent(jPasswordResetKey)
          nodeName: urlEncodedPasswordResetKey
          output: false
        ↓Complex [steps.XMLComplexStep-1588088480535]: 
          nodeName: data
          ↓Concat1 [steps.XMLConcatStep-1588088480538]: 
            nodeName: confirmURL
            separator: 
            sourcesDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: description
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1588088480433
                          - java.lang.String: 
                            - ↑value: ./forgotPasswordPageFullPath/text()
                      - java.lang.String: 
                        - ↑value: ''
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                    - com.twinsoft.convertigo.beans.common.XMLVector: 
                      - java.lang.String: 
                        - ↑value: description
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                        - com.twinsoft.convertigo.beans.common.XMLVector: 
                          - java.lang.String: 
                            - ↑value: 1588088480532
                          - java.lang.String: 
                            - ↑value: ./text()
                      - java.lang.String: 
                        - ↑value: ''
          ↓Element [steps.XMLElementStep-1588088480541]: 
            nodeName: body
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1588088480433
                  - java.lang.String: 
                    - ↑value: ./emailBody/text()
          ↓Element1 [steps.XMLElementStep-1588088480544]: 
            nodeName: logo
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1588088480433
                  - java.lang.String: 
                    - ↑value: ./emailLogo/text()
        ↓jElement2 [steps.ElementStep-1588088480547]: 
          expression: '''{account: {passwordResetKey:"'' + jPasswordResetKey + ''"}}'''
          nodeName: jSonBase
          output: false
        ↓Call_Transaction1 [steps.TransactionStep-1588088480550]: 
          sourceTransaction: lib_UserManager.lib_usermanager_fullsync.PostMergeDocument
          ↓_use_json_base [variables.StepVariable-1588088480553]: 
            description: (string) – JSON use as a base for the document (js object). Optional
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1588088480547
                  - java.lang.String: 
                    - ↑value: ./text()
          ↓_id [variables.StepVariable-1588088480556]: 
            description: Document id
            sourceDefinition: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
                - com.twinsoft.convertigo.beans.common.XMLVector: 
                  - java.lang.String: 
                    - ↑value: 1588088480433
                  - java.lang.String: 
                    - ↑value: ./email/text()
        ↓SMTP_send [steps.SmtpStep-1588088480559]: 
          smtpAuthType: sslTls
          smtpPassword: x8c2a90d9ab90d81769f77c4873a6b260
          smtpPort: 465
          smtpRecipients: email
          smtpSender: senderEmailAdress
          smtpServer: smtp.gmail.com
          smtpSubject: emailSubject
          smtpUsername: noreply@convertigo.com
          xslFilepath: '".//emails/passwordLost.xsl"'
↓email [variables.RequestableVariable-1588088480562]: 
  comment: Email where to send the reset password link to
↓emailBody [variables.RequestableVariable-1588088480565]: 
  comment: Email content
↓emailSubject [variables.RequestableVariable-1588088480568]: 
  comment: Email subject
↓emailLogo [variables.RequestableVariable-1588088480571]: 
  comment: Email logo to be added
↓passwordResetKey [variables.RequestableVariable-1588088480574]: 
  comment: Password reset key
↓newPassword [variables.RequestableVariable-1588088480577]: 
  comment: New password to be set
↓forgotPasswordPageFullPath [variables.RequestableVariable-1588088480580]: 
  comment: Full path to the Forgot password page responsible for calling the ForgotPassword Sequence with the new password and the reset password key as arguments
  value: http://localhost:18080/convertigo/projects/lib_UserManager/DisplayObjects/mobile/index.html#/ForgotPasswordPage/
↓emailButtonLabel [variables.RequestableVariable-1588088480583]: 
  value: Reset Password
↓senderEmailAdress [variables.RequestableVariable-1588088480586]: 
  comment: Email subject
  value: Convertigo Cloud <noreply@convertigo.com>
↓TestAskforReset [core.TestCase]: 
  ↓email [variables.TestCaseVariable-1588088480590]: 
    value: olivierp@convertigo.com
  ↓emailBody [variables.TestCaseVariable-1588088480593]: 
    value:  Hello. You requested to reset your password. Please click on the following Reset Button to reset your password
  ↓emailSubject [variables.TestCaseVariable-1588088480596]: 
    value: Please reset your password by click the reset button
  ↓emailLogo [variables.TestCaseVariable-1588088480599]: 
    value: https://www.convertigo.com/wp-content/themes/EightDegree/images/logo_convertigo.png
↓TestAskforResetAfterCreationPass [core.TestCase]: 
  ↓email [variables.TestCaseVariable-1588088480603]: 
    value: grimont.c+15@gmail.com
  ↓emailBody [variables.TestCaseVariable-1588088480606]: 
    value: Un compte Convertigo Form Builder viens de vous être créé. Merci de cliquer sur le bouton suivant pour définir votre mot de passe
  ↓emailSubject [variables.TestCaseVariable-1588088480609]: 
    value: Nouveau compte Convertigo Forms, defnir le mot de passe
  ↓emailLogo [variables.TestCaseVariable-1588088480612]: 
    value: https://bytebucket.org/ravatar/%7B07bf8744-c754-4eca-a56f-f3f05a7ada3d%7D?ts=2436609
  ↓forgotPasswordPageFullPath [variables.TestCaseVariable-1588088480615]: 
    value: http://localhost:18080/convertigo/projects/lib_UserManager/DisplayObjects/mobile/index.html#/ForgotPasswordPage/
  ↓emailButtonLabel [variables.TestCaseVariable-1588088480618]: 
    value: Definir le mot de passe
  ↓senderEmailAdress [variables.TestCaseVariable-1588088480621]: 
    value: Convertigo Forms <noreply@convertigo.com>
↓TestSetNewPassword [core.TestCase]: 
  ↓passwordResetKey [variables.TestCaseVariable-1588088480625]: 
    value: Sa05/gl8tIBXdLC5yu3mZIRwWbynJ/6waDsBYVU6h5s=
  ↓newPassword [variables.TestCaseVariable-1588088480628]: 
    value: TESTTEST